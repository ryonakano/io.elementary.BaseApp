id: io.elementary.BaseApp
runtime: org.gnome.Platform
sdk: org.gnome.Sdk
runtime-version: '47'
branch: circe-24.08
separate-locales: false
cleanup:
  - /cache
  - /man
  - /share/aclocal
  - /share/devhelp
  - /share/gtk-doc
  - /share/man
  - /lib/systemd
  - "*.la"
  - "*.a"
modules:
  - name: sassc
    cleanup:
      - '*'
    buildsystem: autotools
    sources:
      - type: archive
        url: https://github.com/sass/sassc/archive/3.6.2.tar.gz
        sha256: 608dc9002b45a91d11ed59e352469ecc05e4f58fc1259fc9a9f5b8f0f8348a03
      - type: script
        dest-filename: autogen.sh
        commands:
          - autoreconf -si
    modules:
      - name: libsass
        cleanup:
          - '*'
        buildsystem: autotools
        sources:
          - type: archive
            url: https://github.com/sass/libsass/archive/3.6.5.tar.gz
            sha256: 89d8f2c46ae2b1b826b58ce7dde966a176bac41975b82e84ad46b01a55080582
          - type: script
            dest-filename: autogen.sh
            commands:
              - autoreconf -si

  - name: granite
    buildsystem: meson
    cleanup:
      - /bin
      - /share/applications
      - /share/metainfo
    sources:
      - type: archive
        url: https://github.com/elementary/granite/archive/6.2.0.tar.gz
        sha256: 067d31445da9808a802fca523630c3e4b84d2d7c78ae547ced017cb7f3b9c6b5
  
  - name: elementary-theme
    buildsystem: meson
    cleanup:
      - /share/metainfo
    sources:
      - type: archive
        url: https://github.com/elementary/stylesheet/archive/8.1.0.tar.gz
        sha256: 9a23f2e7a25993da5d9356e2840c6ce1c9a7c837a024a5a0cc5e3844df6c7901
    post-install:
      # Fallback "elementary", the theme name before stylesheet 6.0.0, to the blueberry variant
      - ln -s /app/share/themes/io.elementary.stylesheet.blueberry /app/share/themes/elementary

  - name: elementary-icons
    buildsystem: meson
    cleanup:
      - /share/metainfo
    config-opts:
      - -Dpalettes=false
    sources:
      - type: archive
        url: https://github.com/elementary/icons/archive/8.0.0.tar.gz
        sha256: 2b607c52ec85ef9f683eb28739756d0db942fb5f4c214f4f2fbc768fc6377a1d
    modules:
      - name: xcursorgen
        cleanup:
          - '*'
        sources:
          - type: archive
            url: https://gitlab.freedesktop.org/xorg/app/xcursorgen/-/archive/xcursorgen-1.0.8/xcursorgen-xcursorgen-1.0.8.tar.gz
            sha256: 390204bd72ab722e42c8a09f0a6e918a964ad8cefee02148d771c9be11e533e1
